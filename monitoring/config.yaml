# Gatus configuration file
# Documentation: https://github.com/TwiN/gatus

storage:
  type: sqlite
  path: /data/data.db

web:
  port: 8080

debug: false

# Log endpoint evaluation results
# This will log every check result which is useful for monitoring
alerting:
  console:
    enabled: true

endpoints:
  # Media Server Stack
  - name: qBittorrent
    group: Media Server
    url: "http://qbittorrent:8080"
    interval: 60s
    conditions:
      - "[STATUS] == 200"
      - "[RESPONSE_TIME] < 1000"

  - name: Sonarr
    group: Media Server
    url: "http://sonarr:8989/api/v3/system/status"
    interval: 60s
    headers:
      X-Api-Key: "${SONARR_API_KEY}"
    conditions:
      - "[STATUS] == 200"
      - "[RESPONSE_TIME] < 1000"

  - name: Radarr
    group: Media Server
    url: "http://radarr:7878/api/v3/system/status"
    interval: 60s
    headers:
      X-Api-Key: "${RADARR_API_KEY}"
    conditions:
      - "[STATUS] == 200"
      - "[RESPONSE_TIME] < 1000"

  - name: Prowlarr
    group: Media Server
    url: "http://prowlarr:9696/api/v1/system/status"
    interval: 60s
    headers:
      X-Api-Key: "${PROWLARR_API_KEY}"
    conditions:
      - "[STATUS] == 200"
      - "[RESPONSE_TIME] < 1000"

  - name: FlareSolverr
    group: Media Server
    url: "http://flaresolverr:8191/health"
    interval: 60s
    conditions:
      - "[STATUS] == 200"
      - "[RESPONSE_TIME] < 1000"

  - name: Overseerr
    group: Media Server
    url: "http://overseerr:5055/api/v1/status"
    interval: 60s
    headers:
      X-Api-Key: "${OVERSEERR_API_KEY}"
    conditions:
      - "[STATUS] == 200"
      - "[RESPONSE_TIME] < 1000"

  - name: Plex
    group: Media Server
    url: "http://plex:32400/web"
    interval: 60s
    conditions:
      - "[STATUS] == 200"
      - "[RESPONSE_TIME] < 1000"

  - name: Home Assistant
    group: Home Automation
    url: "http://host.docker.internal:8123"
    interval: 60s
    conditions:
      - "[STATUS] == 200"
      - "[RESPONSE_TIME] < 1000"

  # Infrastructure
  - name: Cloudflare Tunnel
    group: Infrastructure
    url: "http://cloudflared:20241/metrics"
    interval: 60s
    conditions:
      - "[STATUS] == 200"
      - "[RESPONSE_TIME] < 500"

  - name: Dozzle
    group: Infrastructure
    url: "http://dozzle:8080"
    interval: 60s
    conditions:
      - "[STATUS] == 200"
      - "[RESPONSE_TIME] < 500"
